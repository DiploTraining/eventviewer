<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Instructions - Event Viewer – Instructions - Event Viewer</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="instructions.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Instructions - Event Viewer</h1>
</header>
<p>The Event Viewer page is divided into sections:</p>
<table style="width:53%;">
<colgroup>
<col style="width: 26%" />
<col style="width: 26%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Map</td>
<td>Information Tabs</td>
</tr>
<tr class="even">
<td>Time Filter</td>
<td>Time Line</td>
</tr>
<tr class="odd">
<td>Event Filters</td>
<td>Event Bar</td>
</tr>
<tr class="even">
<td>Sandbox Controls</td>
<td>Event Markers</td>
</tr>
</tbody>
</table>
<p>Most things on the page are clickable (text will be underlined when hovered over to show this).</p>
<p>A good way to experiment is to select everything with the ⬤ icon in the Event Filters Section.</p>
<p>The Sandbox sections are not shown when the page first loads.</p>
<h2 id="map">Map</h2>
<p>The Map displays colored circle icons representing the Locations of Events; grey circles representing the Origins of People and colored lines connecting these Locations. The thickness of the lines indicates how many People came from that Origin. Hovering the mouse pointer over any of these features reveals more information.</p>
<p>Clicking on any of the Event or Origin Locations on the map changes the Locations or Origins in the filters. A click filters only for that location; shift-click adds the location to the filter; control-click (or command-click on a Mac) toggles the location in the filter.</p>
<h2 id="information-tabs">Information Tabs</h2>
<p>Information tabs appear next to the map and contain text information about the events and people.</p>
<h3 id="event-tab">Event Tab</h3>
<p>Displays the Organisation, Title and extra fields for an event.</p>
<p>Clicking on the Title fills in the Attend Tab for everyone at the event.</p>
<h3 id="from-tab">From Tab</h3>
<p>A list of all Origin Locations which People attended from.</p>
<p>Clicking on the Title fills in the Attend Tab for everyone at the event.</p>
<h3 id="attend-tab">Attend Tab</h3>
<p>A list of People for the whole event or from a specific Origin Location.</p>
<p>Clicking on a Name will display that Person’s information in the Bio Tab. Clicking on the Event Title will add everyone to the Sandbox.</p>
<h3 id="bio-tab">Bio Tab</h3>
<p>Biographical information about a Person.</p>
<p>Click on the Name to add that Person to the Sandbox.</p>
<h3 id="control-tab">Control Tab</h3>
<ul>
<li><code>Reset map</code> Click here to reset the map to its initial center and zoom</li>
<li><code>Labels:</code> Turn map labels on or off (only with a Google base map)</li>
<li><code>Timeline:</code> Turn the timeline display on or off</li>
<li><code>Loading:</code> Displays the data loading progress when the page is opened or refreshed</li>
</ul>
<h2 id="time-filter">Time Filter</h2>
<p>Selects a time range. Only Events with a Start Time inclusively within that range will appear in the Event Bar. The range is reflected by the grey are in the Time Line. If start and end are equal then all of the time range is selected.</p>
<p>Start and end ranges may be stepped through with a mouse click or using the left and right arrow keys. The step is determined by the day / month / year radio buttons.</p>
<h2 id="time-line">Time Line</h2>
<p>Shows the Time Line over which the events took place with colored lines to indicate the position within the Time Line of the Events shown in the Event Bar.</p>
<h2 id="event-filters">Event Filters</h2>
<p>Filters which change which Events appear in the Event Bar.</p>
<h3 id="organiser-filter">Organiser Filter</h3>
<p>Filters by the Organiser of the Event. Filters may be part of the name and different filters may be separated by the <code>|</code> character. <code>*</code> is a wildcard for any number of characters <code>?</code> is a wildcard for a single character.</p>
<h3 id="location-filter">Location Filter</h3>
<p>Drop down list of Event Locations. Multiple selections can be made with the shift-key or control-key (command-key on Mac).</p>
<h3 id="origin-filter">Origin Filter</h3>
<p>Drop down list of People Origins. Multiple selections can be made with the shift-key or control-key (command-key on Mac).</p>
<h3 id="event-selections">Event Selections</h3>
<ul>
<li>⬤ Show all Events on Map</li>
<li>◯ Clear all Events on Map</li>
<li>⊲ Select previous Event on Map and in Information Tab</li>
<li>⊳ Select next Event on Map and in Information Tab</li>
</ul>
<p>Next and previous Event keys may be modified with the shift-key or control-key (command-key on Mac). Shift-key adds to the selection; control-key toggles the current and new selections. Thus control-key can be used to step through the events individually.</p>
<h2 id="event-bar">Event Bar</h2>
<p>Shows the Organisation, Date and Title for the Events.</p>
<p>Click an Event to select or deselect them from the Map. If an event is selected then it is also displayed in the Event, From and Attend Tabs.</p>
<h2 id="sandbox-controls-and-event-markers">Sandbox Controls and Event Markers</h2>
<p>The Sandbox is a table of People with the Events they attended. Add people to the Sandbox by clicking the name in the Bio Tab or the event Title in the Attend Tab.</p>
<p>Clicking a name in the sandbox fills in the Bio tab.</p>
<p>Controls for each row are:</p>
<ul>
<li>▴ Move row to top</li>
<li>▵ Move row up</li>
<li>▿ Move row down</li>
<li>▾ Move row to bottom</li>
<li>× Clear row</li>
<li>⊗ Clear rows to bottom</li>
</ul>
<h1 id="data-sheets">Data Sheets</h1>
<p>The visualisation is driven by data held Google Spreadsheets or loaded from JSON data. Each sheet must have a first row which consists only of Field Names. Any field name starting with a lower case letter will be ignored. There are fields which must appear in some sheets and also extra fields which may appear to provide additional information.</p>
<p>Any value which starts with an ! is treated as a comment in the data only. Any field name surrounded with [ … ] will be included as a non-compulsory field but the field name will not be shown. (This can be used for images and captions, for example.)</p>
<p>Fields which contain a URL ending with .png, .jpg, .gif etc will be displayed as inline images. Other URLs will be displayed as clickable links.</p>
<p>The different sheets within the Google Spreadsheets are:</p>
<h2 id="people-sheet">People Sheet</h2>
<ul>
<li><code>UID</code> A unique id for each person</li>
<li><code>Last Name</code> A person’s last name (sorted by this field)</li>
<li><code>First Name</code> A person’s first name (may be blank)</li>
<li><code>Origin</code> The origin of the person (linked to the Location Sheet)</li>
</ul>
<p>Any other fields starting with a capital letter will be listed, in order, in the Bio Tab.</p>
<h2 id="events-sheet">Events Sheet</h2>
<ul>
<li><code>Acronym</code> A unique id for each Event</li>
<li><code>Title</code> The title or name of each Event</li>
<li><code>Location</code> The Location of the Event (linked to Locations Sheet)</li>
<li><code>Organiser</code> Organiser of the Event (optional - linked to Organisers Sheet)</li>
<li><code>Start</code> The date the event started</li>
</ul>
<p>Any other fields starting with a capital letter will be displayed in the Event Tab.</p>
<h2 id="peopleatevents-sheet">PeopleAtEvents Sheet</h2>
<p>This table links People with all the Events they attended.</p>
<ul>
<li><code>UID</code> Id for the Person</li>
<li><code>Acronym</code> Id for the Event</li>
</ul>
<p>Any other fields are displayed in the Bio Tab.</p>
<h2 id="locations-sheet">Locations Sheet</h2>
<p>This table gives the lat, lng coordinates for locations referenced in the People and Events tables. Fields are:</p>
<ul>
<li><code>Place</code> Name of Location</li>
<li><code>Lat</code> Latitude value</li>
<li><code>Lng</code> Longitute value</li>
<li><code>Color</code> The color of the Event lines on the Map for that Location</li>
</ul>
<p>Color names can be hex values or names listed on <a href="https://www.w3schools.com/colors/colors_names.asp" class="uri">https://www.w3schools.com/colors/colors_names.asp</a>. If Color is blank then a color will be allocated based on the earliest Start Date of an Event at that Location.</p>
<h2 id="organisers-sheet">Organisers Sheet</h2>
<ul>
<li><code>Name</code> Name of the Organiser</li>
<li><code>Title</code> Title of Organiser</li>
</ul>
<p>This is an optional sheet - any additional fields will appear in the Event Tab. This allows grouping of information together without having to duplicate over many Events by the same Organiser.</p>
<h2 id="parameters">Parameters</h2>
<p>The parameters configure the way the data is displayed.</p>
<h3 id="title">title</h3>
<p>Displayed in the window title bar.</p>
<h3 id="header">header</h3>
<p>Displayed at the start of the page (can be in HTML).</p>
<h3 id="footer">footer</h3>
<p>Displayed at the end of the page (can be any HTML).</p>
<h3 id="initlat-initlng-initzoom">initLat, initLng, initZoom</h3>
<p>The initial latitude, longitute and zoom of the map (also used when Reset Map is clicked).</p>
<h3 id="startyear-finishyear-labelyear">startYear, finishYear, labelYear</h3>
<p>The beginning and end of the time line and the intervals which labels appear.</p>
<h3 id="linkwidth">linkWidth</h3>
<p>Width of link connecting timelines.</p>
<h3 id="lineopacity">lineOpacity</h3>
<p>Floating point number for the opacity ranging from 0 (invisible) to 1 (opaque).</p>
<h3 id="lineminwidth-linemaxwidth">lineMinWidth, lineMaxWidth</h3>
<p>Minimum an maximum line widths for location connecting lines on the map.</p>
<h3 id="timeline">timeline</h3>
<p>Whether the timeline is displayed.</p>
<h3 id="labeled">labeled</h3>
<p>Whether the map has country names labeled. (Only applies to Google maps not other tile servers.)</p>
<h3 id="watercolor-landcolor">waterColor, landColor</h3>
<p>Color. Could be a named color or in the format #RRGGBB where RR, GG and BB are hex digits. Only applies to Google maps not tile servers.</p>
<h3 id="googlekey">googleKey</h3>
<p>Set a Google API key to load data from a Google sheet or load Google map grid layer.</p>
<h3 id="tilelayer-attribution">tileLayer, attribution</h3>
<p>The URL of a tile server (like Open Street Map) and the attribution which should be applied to the map. Most tile servers require some kind of copyright attribution as part of their terms of use.</p>
<h1 id="loading">Loading</h1>
<p>Data may be loaded into the page in various ways. The Javascript file local.js is loaded automatically.</p>
<h2 id="google-spreadsheet">Google Spreadsheet</h2>
<p>To read a Google spreadsheet - you need to generate a valid Google API key. This can be assigned in the local.js file, or passed as a query string after the URL.</p>
<p>The key can be generated through the following URLs:</p>
<ul>
<li><a href="https://console.cloud.google.com/apis/credentials" class="uri">https://console.cloud.google.com/apis/credentials</a> Create Credentials-&gt;API Key</li>
<li><a href="https://console.cloud.google.com/apis/library" class="uri">https://console.cloud.google.com/apis/library</a> Google Sheets API-&gt;Enable</li>
</ul>
<p>You can also use Google Maps rather than Open Street Map if you enable your API Key for use with maps APIs. Although this is free for reasonable use; this may require billing to be enabled for the key.</p>
<h2 id="javascript">Javascript</h2>
<p>The page can load additional Javascript, useful statements are:</p>
<ul>
<li><code>Const.OPTION = VALUE;</code> Set parameter value</li>
<li><code>Load.googleDoc('NAME');</code> Load all the sheets from a Google doc</li>
<li><code>Param.load(JSON);</code> Load parameters</li>
<li><code>Location.load(JSON);</code> Load locations</li>
<li><code>Event.load(JSON);</code> Load events</li>
<li><code>Person.load(JSON);</code> Load people</li>
<li><code>PeopleAtEvents.load(JSON);</code> Load people at events</li>
</ul>
<p>Load.googleDoc needs Const.googleKey to be an API key which can be used with Google maps.</p>
<p>When loading a sheet directly from a JSON array. The first row must contain the field names starting with a capital letter.</p>
<h2 id="query-string">Query String</h2>
<p>Query string options may be added to the URL and are parsed as follows:</p>
<ul>
<li><code>sheet=NAME</code> Load all sheets from a Google doc</li>
<li><p><code>js=URL</code> Load the javascript file</p></li>
<li><p><code>PARAMETER=VALUE</code> Set the PARAMETER to VALUE</p></li>
</ul>
</body>
</html>
